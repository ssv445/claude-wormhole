# Plugins
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tmux-plugins/tmux-continuum'

# Resurrect settings
set -g @resurrect-capture-pane-contents 'on'
set -g @resurrect-strategy-nvim 'session'

# Continuum settings
set -g @continuum-restore 'on'
set -g @continuum-save-interval '15'

# Terminal capabilities — tmux-256color advertises modern Unicode/truecolor
set -g default-terminal "tmux-256color"

# Better defaults
set -g mouse on

# Override default WheelUpPane so SGR wheel events from the web terminal
# always enter copy mode instead of being forwarded to Claude Code
# (which enables mouse tracking and swallows them). Skip override when
# alternate screen is active so vim/less/htop still get wheel events.
bind -Troot WheelUpPane if-shell -F -t= "#{alternate_on}" \
  "send-keys -M" \
  "select-pane -t=; copy-mode -e; send-keys -M"
# No WheelDownPane override needed — touch scroll uses PgDn inside copy mode,
# not SGR wheel-down events.
set -g history-limit 10000
set -g alternate-screen on
set -as terminal-overrides ',xterm*:Tc'
set -as terminal-overrides ',xterm*:smcup@:rmcup@'
set -g base-index 1
setw -g pane-base-index 1

# Initialize TPM (keep at bottom)
run '~/.tmux/plugins/tpm/tpm'
